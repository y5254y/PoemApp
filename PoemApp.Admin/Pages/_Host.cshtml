@page "/"
@namespace PoemApp.Admin.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PoemApp Admin</title>
    <base href="~/" />
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />
    <!-- Keep any editor CSS if needed, but avoid loading editor scripts before Blazor to prevent interop races -->
    @* <link href="/lib/quill/quill.snow.css" rel="stylesheet" /> *@

    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
</head>
<body>
    <app>
        <component type="typeof(App)" render-mode="Server" />
    </app>

    <!-- Load framework scripts first, then optional editor scripts to avoid interfering with Blazor renderer registration -->
    <script src="_framework/blazor.server.js"></script>
    <script src="_content/MudBlazor/MudBlazor.min.js"></script>

    <!-- Editor interop and adapter: expose QuillFunctions expected by Blazored.TextEditor -->
    <script src="/js/editorInterop.js"></script>
    <script src="/js/blazoredAdapter.js"></script>

    <!-- Optional: load editor scripts after Blazor is initialized if still needed (commented out while using Blazored.TextEditor)
    <script src="/lib/quill/quill.min.js"></script>
    <script src="/js/tinymceInterop.js"></script>
    -->

    <!-- Diagnostic: minimal checks after Blazor connects can be added if needed -->
    <footer style="text-align:center;padding:12px 0;color:#666;font-size:0.9rem;">
        <div>© 2024 PoemApp. All rights reserved.</div>
        <div style="margin-top:6px;"><a href="https://beian.miit.gov.cn" target="_blank" rel="noopener noreferrer">鲁ICP备2025209166号</a></div>
    </footer>
</body>
</html>